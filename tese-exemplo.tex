% Arquivo LaTeX de exemplo de dissertação/tese a ser apresentados à CPG do IME-USP
% 
% Versão 4: Sun Feb 20 18:25:33 BRT 2011
%
% Criação: Jesús P. Mena-Chalco
% Revisão: Fabio Kon e Paulo Feofiloff
%  
% Obs: Leia previamente o texto do arquivo README.txt

\documentclass[11pt,twoside,a4paper]{book}

% ---------------------------------------------------------------------------- %
% Pacotes 
\usepackage[T1]{fontenc}
\usepackage[brazil]{babel}
\usepackage[latin1]{inputenc}
\usepackage[pdftex]{graphicx}           % usamos arquivos pdf/png como figuras
\usepackage{setspace}                   % espaçamento flexível
\usepackage{indentfirst}                % indentação do primeiro parágrafo
\usepackage{makeidx}                    % índice remissivo
\usepackage[nottoc]{tocbibind}          % acrescentamos a bibliografia/indice/conteudo no Table of Contents
\usepackage{courier}                    % usa o Adobe Courier no lugar de Computer Modern Typewriter
\usepackage{type1cm}                    % fontes realmente escaláveis
\usepackage{listings}                   % para formatar código-fonte (ex. em Java)
\usepackage{titletoc}
%pacote para sublinhar
\usepackage{ulem} 

\usepackage{verbatim}
%\usepackage[bf,small,compact]{titlesec} % cabeçalhos dos títulos: menores e compactos
\usepackage[fixlanguage]{babelbib}
\usepackage[font=small,format=plain,labelfont=bf,up,textfont=it,up]{caption}
\usepackage[usenames,svgnames,dvipsnames]{xcolor}
\usepackage[a4paper,top=2.54cm,bottom=2.0cm,left=2.0cm,right=2.54cm]{geometry} % margens
\usepackage[pdftex,plainpages=false,pdfpagelabels,pagebackref,colorlinks=true,citecolor=black,linkcolor=black,urlcolor=black,filecolor=black,bookmarksopen=true]{hyperref} % links em preto
%\usepackage[pdftex,plainpages=false,pdfpagelabels,pagebackref,colorlinks=true,citecolor=DarkGreen,linkcolor=NavyBlue,urlcolor=DarkRed,filecolor=green,bookmarksopen=true]{hyperref} % links coloridos
\usepackage[all]{hypcap}                % soluciona o problema com o hyperref e capitulos
\usepackage[square,sort,nonamebreak,comma]{natbib}  % citação bibliográfica alpha (alpha-ime.bst)
\fontsize{60}{62}\usefont{OT1}{cmr}{m}{n}{\selectfont}
%para usar align* (centraliza formulas)
\usepackage{amsmath}

%importa pdfs
\usepackage{pdfpages}
% ---------------------------------------------------------------------------- %
% Cabeçalhos similares ao TAOCP de Donald E. Knuth
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{#1}}{}}
\renewcommand{\sectionmark}[1]{\markright{\MakeUppercase{#1}}{}}
\renewcommand{\headrulewidth}{0pt}

% ---------------------------------------------------------------------------- %
\graphicspath{{./figuras/}}             % caminho das figuras (recomendável)
\frenchspacing                          % arruma o espaço: id est (i.e.) e exempli gratia (e.g.)
\urlstyle{same}                         % URL com o mesmo estilo do texto e não mono-spaced
\makeindex                              % para o índice remissivo
\raggedbottom                           % para não permitir espaços extra no texto
\fontsize{60}{62}\usefont{OT1}{cmr}{m}{n}{\selectfont}
\cleardoublepage
\normalsize

% ---------------------------------------------------------------------------- %
% Opções de listing usados para o código fonte
% Ref: http://en.wikibooks.org/wiki/LaTeX/Packages/Listings
\lstset{ %
language=C,                  % choose the language of the code
basicstyle=\footnotesize,       % the size of the fonts that are used for the code
numbers=left,                   % where to put the line-numbers
numberstyle=\footnotesize,      % the size of the 	fonts that are used for the line-numbers
stepnumber=1,                   % the step between two line-numbers. If it's 1 each line will be numbered
numbersep=5pt,                  % how far the line-numbers are from the code
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
showtabs=false,                 % show tabs within strings adding particular underscores
frame=single,	                % adds a frame around the code
framerule=0.6pt,
tabsize=2,	                    % sets default tabsize to 2 spaces
captionpos=b,                   % sets the caption-position to bottom
breaklines=true,                % sets automatic line breaking
breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
escapeinside={\%*}{*)},         % if you want to add a comment within your code
backgroundcolor=\color[rgb]{1.0,1.0,1.0}, % choose the background color.
rulecolor=\color[rgb]{0.8,0.8,0.8},
extendedchars=true,
xleftmargin=10pt,
xrightmargin=10pt,
framexleftmargin=10pt,
framexrightmargin=10pt
}

% ---------------------------------------------------------------------------- %
% Corpo do texto
\begin{document}
\normalem

\frontmatter 
% cabeçalho para as páginas das seções anteriores ao capítulo 1 (frontmatter)
\fancyhead[RO]{{\footnotesize\rightmark}\hspace{2em}\thepage}
\setcounter{tocdepth}{2}
\fancyhead[LE]{\thepage\hspace{2em}\footnotesize{\leftmark}}
\fancyhead[RE,LO]{}
\fancyhead[RO]{{\footnotesize\rightmark}\hspace{2em}\thepage}

\onehalfspacing  % espaçamento

% ---------------------------------------------------------------------------- %
% CAPA
% Nota: O título para as teses/dissertações do IME-USP devem caber em um 
% orifício de 10,7cm de largura x 6,0cm de altura que há na capa fornecida pela SPG.
\thispagestyle{empty}
\begin{center}
    \vspace*{2.3cm}
    \textbf{\Large{ Análise de desempenho de\\
		    interfaces de rede virtualizadas\\[0.25cm]
		    com Napi}}\\
    
    \vspace*{0.7cm}
    \Large{Eduardo Hideo Kuroda}
    
    \vskip 2cm
    \textsc{
    Dissertação de mestrado apresentada\\[-0.25cm]
    ao\\[-0.25cm]
    Instituto de Matemática e Estatística\\[-0.25cm]
    da\\[-0.25cm]
    Universidade de São Paulo\\[-0.25cm]
    para\\[-0.25cm]
    obtenção do título\\[-0.25cm]
    de\\[-0.25cm]
    Mestre em Ciência da Computação}
    
    \vskip 1.5cm
    Programa: Mestrado em Ciência da Computação\\
    Orientador: Prof. Dr. Daniel Macêdo Batista\\

   	\vskip 1cm
    \normalsize{Durante o desenvolvimento deste trabalho o autor recebeu auxílio
    financeiro da Comissão Europeia e da Coordenação de Aperfeiçoamento de Pessoal de Nível Superior}
    
    \vskip 0.5cm
    \normalsize{São Paulo, outubro de 2013}
\end{center}

% ---------------------------------------------------------------------------- %
% Página de rosto (SÓ PARA A VERSÃO DEPOSITADA - ANTES DA DEFESA)
% Resolução CoPGr 5890 (20/12/2010)
%
% Nota: O título para as teses/dissertações do IME-USP devem caber em um 
% orifício de 10,7cm de largura x 6,0cm de altura que há na capa fornecida pela SPG.
\newpage
\thispagestyle{empty}
    \begin{center}
        \vspace*{2.3 cm}
        \textbf{\Large{Análise de desempenho de interfaces de rede virtualizadas com Napi}}\\
        \vspace*{2 cm}
    \end{center}

    \vskip 2cm

    \begin{flushright}
    Esta é a versão original da dissertação elaborada pelo\\
    candidato Eduardo Hideo Kuroda, tal como \\
    submetida à Comissão Julgadora.
    \end{flushright}

\pagebreak


\pagenumbering{roman}     % começamos a numerar 


% ---------------------------------------------------------------------------- %
% Resumo
\chapter*{Resumo}
Em ambientes virtualizados, como nuvens computacionais, a capacidade
efetiva de transmissão de dados via rede tende a ser inferior do que
em ambientes não virtualizados quando aplicações que fazem uso
intensivo da rede são executadas. Uma das principais causas para essa
diferença na capacidade de transmissão é a arquitetura da
virtualização de rede, que adiciona passos para o sistema operacional
transmitir e receber um pacote. Esses passos adicionais acarretam em
mais utilização de memória e de processamento. Em ambientes
virtualizados com o sistema operacional GNU/Linux, a \textit{New
Application Programming Interface} (NAPI) é utilizada para reduzir os
impactos negativos da virtualização por meio de agregação de
interrupções.  Nesta dissertação de mestrado, são estudados mecanismos
que modificam a configuração da NAPI. Experimentos mostram que esses
mecanismos afetam o desempenho de máquinas virtuais e tem
consequências diretas nas aplicações que fazem uso intensivo de rede e
que são executadas em ambientes com os softwares de virtualização Xen,
VMware e VirtualBox.\\
\noindent \textbf{Palavras-chave:} computação em nuvem, virtualização de rede, agregação de interrupções, NAPI

% ---------------------------------------------------------------------------- %
% Abstract
\chapter*{Abstract}
In virtualized environments, like cloud computing, the effective
capacity of data transmission via network cards tends to be lower than
that in non-virtualized environments, when network-intensive
applications are executed. A major cause for this difference in the
transmission capacity is the architecture of network virtualization,
which adds some steps to be performed by the system when packets are
transmitted or received. These additional steps cause more memory and
processing usage. In virtualized environments with the GNU/Linux
operating system, the New Application Programming Interface (NAPI) is
used to reduce the negative impacts of virtualization through
interrupt coalescence.  In this dissertation, mechanisms that
modify the configuration of NAPI are studied. Experiments show that
these mechanisms affect the performance of virtual machines and have
direct effects in applications that make intensive use of the network
in environments with Xen, VMware and VirtualBox.\\
\noindent \textbf{Keywords:} cloud computing, network virtualization,
interrupt coalescence, NAPI

% ---------------------------------------------------------------------------- %
% Sumário
\tableofcontents    % imprime o sumário

% ---------------------------------------------------------------------------- %
% Listas de figuras e tabelas criadas automaticamente
\listoffigures            
\listoftables            

% ---------------------------------------------------------------------------- %
% Capítulos do trabalho
\mainmatter

% cabeçalho para as páginas de todos os capítulos
\fancyhead[RE,LO]{\thesection}

\singlespacing              % espaçamento simples
%\onehalfspacing            % espaçamento um e meio

\input cap-introducao        % associado ao arquivo: 'cap-introducao.tex'
\input cap-conceitos         % associado ao arquivo: 'cap-conceitos.tex'
\input cap-revisao_bibliografica
\input cap-experimento
\input cap-conclusoes        % associado ao arquivo: 'cap-conclusoes.tex'

% cabeçalho para os apêndices
%\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{\appendixname\ \thechapter}} {\MakeUppercase{#1}} }
%\fancyhead[RE,LO]{}
%\appendix
%
%\include{ape-conjuntos}      % associado ao arquivo: 'ape-conjuntos.tex'

% ---------------------------------------------------------------------------- %
% Bibliografia
\backmatter \singlespacing   % espaçamento simples
\bibliographystyle{alpha-ime}% citação bibliográfica alpha
\bibliography{bibliografia}  % associado ao arquivo: 'bibliografia.bib'

% ---------------------------------------------------------------------------- %
% Índice remissivo


%\printindex   % imprime o índice remissivo no documento 

\end{document}