\chapter{Proposta}
\label{cap:proposta}

\section{Tema de Pesquisa}

Essa pesquisa tem como tema técnicas de otimização na virtualização de rede em infraestruturas em nuvem.

\section{Problema de Pesquisa}

O problema a ser tratado nessa pesquisa é o desempenho baixo nas infraestruturas em nuvem que utilizam técnicas de virtualização com \textit{hypervisores} em relação a infraestruturas que virtualizam usando a virtualização em nível de sistema operacional ou não virtualizam quando executam aplicações que usam intensamente a rede.

\section{Evidências do problema}

Para ter evidências que o problema existe, foi feita uma revisão bibliográfica.
Nela diversos autores falam sobre problemas na arquitetura da virtualização de rede que é usada pelos \textit{hypervisores} \cite{ekanayake2010high} \cite{liu2010evaluating} \cite{Waldspurger:2012:IV:2063176.2063194} \cite{Rixner:2008:NVB:1348583.1348592} \cite{Santos:2008:BGS:1404014.1404017} \cite{oi2009performance} \cite{xenbestpractices}. 

\cite{ekanayake2010high} fizeram experimentos com infraestruturas usando \textit{XEN} e infraestruturas sem virtualização. O resultado foi que as infraestruturas usando \textit{XEN} tiveram um desempenho muito inferior causado pela alta latência e muito uso do processador.

\section{Relevância do problema}
Muitas organizações tem investido em computação em nuvem, mais de 150 empresas tem entrado na indústria como fornecedoras de nuvem \cite{cloudexpo}. No lado dos consumidores de nuvem, uma recente pesquisa com mais de 600 companhias pelo InformationWeek revelou que o número de companhias usando computação em nuvem aumentou de 18\% em fevereiro de 2009 para 30\% em outubro de 2010 \cite{goncalvesresource}.

Na revisão bibliográfica foram encontrados vários autores que propuseram técnicas para tentar resolver esse problema. \cite{Rixner:2008:NVB:1348583.1348592} \cite{Santos:2008:BGS:1404014.1404017} \cite{oi2009performance} \cite{Liao:2008:STI:1477942.1477971} \cite{apparao2006characterization} \cite{jang2011low} \cite{fortuna2012improving} \cite{dong2011optimizing}. 

Uma especificação para dispositivos PCIe chamada \textit{SR-IOV} foi criada apenas para tentar resolver esse problema \cite{SRIOV} e vários fabricantes de placas de rede como a Intel\cite{intel_SRIOV}, Cisco\cite{cisco_SRIOV} passaram a fabricar e vender placas de rede com essa especificação para servidores que usam \textit{XEN} ou \textit{KVM}.

\section{Propostas da Literatura}
Os detalhes de cada proposta da literatura podem ser vistos na subseção resumo sintetizado da seção da revisão bibliográfica. 

\section{Proposta de pesquisa}

Nessa pesquisa, propomos um algoritmo para mesclagem de interrupções do \textit{driver} da placa de rede virtual e física, tentando ajustar os parâmetros de mesclagem dinamicamente de forma a garantir uma melhor qualidade dos serviços da infraestrutura de nuvem que utilizam a rede.

O algoritmo será uma solução se reduzir o uso da \textit{CPU} por pacote na transmissão e recepção e manter a latência consideravelmente baixa.

\subsection{mesclagem de interrupção na recepção em múltiplos drivers}
Se pensarmos em mesclar as interrupções na recepção dos três \textit{drivers}, no melhor caso, quando todos os \textit{drivers} esperam receber uma quantidade de pacotes para gerar uma interrupção e recebem, o atraso será baixo porque no momento que o último pacote chega é gerada a interrupção. 
Porém, no pior caso, quando todos recebem uma quantidade de pacotes menor que o esperado, eles terão que ficar retidos no \textit{buffer} dos \textit{drivers} os quais estavam esperando que mais algum pacote apareceria e só geraria a interrupção quando o tempo limite de espera por pacote terminasse.
Ainda não foi encontrado nenhum artigo que analisa a mesclagem nesses três \textit{drivers} ao mesmo tempo.

\section{Questão de pesquisa}
O algoritmo de mesclagem de interrupção proposto reduz o uso da \textit{CPU} por pacote na transmissão e recepção e mantêm a latência consideravelmente baixa em relação a infraestrutura sem o algoritmo?


\section{Método de pesquisa}


\section{Cronograma}

